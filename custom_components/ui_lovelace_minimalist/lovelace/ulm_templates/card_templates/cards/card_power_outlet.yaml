---
### Card Power Outlet ###
card_power_outlet:
  template:
    - "icon_info_bg"
    - "yellow"
    - "ulm_language_variables"
  variables:
    ulm_card_power_outlet_consumption_sensor:
  triggers_update: "all"
  double_tap_action:
    action: "call-service"
    service: "input_select.select_option"
    service_data:
      option: "[[[ return variables.ulm_input_select_option ]]]"
      entity_id: "[[[ return variables.ulm_input_select ]]]"
  label: |-
    [[[
      if (entity.state === "on" && variables.ulm_card_power_outlet_consumption_sensor !== null) {
        return variables.ulm_on + " â€¢ " + states[variables.ulm_card_power_outlet_consumption_sensor].state + "W";
      } else {
        let state = entity.state;
        return variables["ulm_" + state] ? variables["ulm_" + state] : state;
      }
    ]]]
