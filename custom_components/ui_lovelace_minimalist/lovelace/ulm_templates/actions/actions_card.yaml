---
### Actions card ###
ulm_actions_card:
  template:
    - "ulm_global_config"
  tap_action:
    action: >
      [[[ 
        var action = variables.ulm_global_card_tap_action;
        let domain = entity.entity_id.substr(0, entity.entity_id.indexOf("."));

        if (domain == "binary_sensor" || domain == "sensor"){
          if (action == 'toggle')
            action = 'none';
        }

        if (action == 'popup'){
          action = 'more-info'
        }

        return action 
      ]]]
  hold_action:
    action: >
      [[[ 
        var action = variables.ulm_global_card_hold_action;
        let domain = entity.entity_id.substr(0, entity.entity_id.indexOf("."));

        if (domain == "binary_sensor" || domain == "sensor"){
          if (action == 'toggle')
            action = 'none';
        }

        if (action == 'popup'){
          action = 'more-info'
        }

        return action 
      ]]]
  double_tap_action:
    action: >
      [[[ 
        var action = variables.ulm_global_card_double_tap_action;
        let domain = entity.entity_id.substr(0, entity.entity_id.indexOf("."));

        if (domain == "binary_sensor" || domain == "sensor"){
          if (action == 'toggle')
            action = 'none';
        }

        if (action == 'popup'){
          action = 'more-info'
        }

        return action 
      ]]]